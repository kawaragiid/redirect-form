<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
<title>KALENDER SOYA</title>

<style>
/* ============= THEME COLORS & FONTS ============= */
:root {
    /* Warna Matte ala Apple */
    --matte-orange: #FB923C; /* Orange pastel */
    --matte-blue:   #60A5FA; /* Blue pastel */
    --matte-green:  #34D399; /* Emerald pastel */
    --bg-dark:      #0F172A; /* Dark Slate */
}

/* ============= BASE STYLE ============= */
body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden; /* Mencegah scroll saat animasi keluar */
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Inter", sans-serif;
    background-color: var(--bg-dark);
    color: white;
}

/* ============= BACKGROUND VIDEO ============= */
.video-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: -5; /* Di belakang blobs dan konten */
    opacity: 0.3; /* Opacity 30% sesuai request */
    pointer-events: none; /* Agar tidak bisa diklik */
    transition: opacity 1s ease;
}

/* Logika Display Video Berdasarkan Ukuran Layar */
#vid-landscape {
    display: block;
}
#vid-portrait {
    display: none;
}

/* Jika layar HP / Portrait (lebar max 768px) */
@media (max-width: 768px) {
    #vid-landscape {
        display: none;
    }
    #vid-portrait {
        display: block;
    }
}

/* ============= BACKGROUND BLUR (APPLE STYLE) ============= */
.background-blobs {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2; /* Di atas video, di bawah konten */
    overflow: hidden;
    pointer-events: none;
}

.blob {
    position: absolute;
    border-radius: 50%;
    filter: blur(80px); /* Efek Matte Blur yang kuat */
    opacity: 0.6;
    animation: blobFloat 10s infinite alternate;
}

.blob-1 {
    top: -10%;
    left: -10%;
    width: 50vw;
    height: 50vw;
    background: var(--matte-orange);
    animation-delay: 0s;
}

.blob-2 {
    bottom: -10%;
    right: -10%;
    width: 50vw;
    height: 50vw;
    background: var(--matte-blue);
    animation-delay: -2s;
}

.blob-3 {
    top: 40%;
    left: 40%;
    width: 40vw;
    height: 40vw;
    background: var(--matte-green);
    transform: translate(-50%, -50%);
    opacity: 0.4;
    animation-delay: -4s;
}

@keyframes blobFloat {
    0% { transform: translate(0, 0) scale(1); }
    100% { transform: translate(20px, -20px) scale(1.1); }
}

/* ============= LIQUID GLASS CARD ============= */
.glass-box {
    position: relative;
    width: 85%;
    max-width: 360px;
    padding: 40px 30px;
    border-radius: 32px;
    
    /* MODIFIED: Liquid Glass Effect - LEBIH TRANSPARAN */
    background: linear-gradient(
        135deg, 
        rgba(243, 236, 236, 0.007), /* Dikurangi agar lebih bening */
        rgba(255, 255, 255, 0.02)
    );
    /* Blur sedikit dikurangi agar background di belakang lebih terlihat */
    backdrop-filter: blur(30px) saturate(180%);
    -webkit-backdrop-filter: blur(30px) saturate(180%);
    
    /* Border lebih tipis dan transparan */
    border: 1px solid rgba(255, 255, 255, 0.055);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    border-right: 1px solid rgba(255, 255, 255, 0.05);
    
    /* Shadow tetap ada untuk kedalaman 3D */
    box-shadow: 
        0 30px 60px rgba(199, 198, 198, 0.4), 
        inset 0 0 0 1px rgba(255, 255, 255, 0.1); /* Inner rim light */
        
    text-align: center;
    
    /* Persiapan animasi exit (Unlock) */
    transition: transform 0.8s cubic-bezier(0.16, 1, 0.3, 1), 
                opacity 0.6s ease-in;
}

/* Class untuk animasi Unlock Screen (Slide Up) */
.glass-box.unlock-screen {
    transform: translateY(-120vh) scale(0.95);
    opacity: 0;
}

/* Window dots */
.window-buttons {
    position: absolute;
    top: 20px;
    left: 20px;
    display: flex;
    gap: 8px;
}
.btn-dot {
    width: 12px; 
    height: 12px;
    border-radius: 50%;
}
.btn-close { background: #FF5F56; }
.btn-min   { background: #FFBD2E; }
.btn-max   { background: #27C93F; }

/* Logo Area */
.logo-container {
    margin-bottom: 10px;
}
.logo-img {
    width: 72px;
    height: 72px;
    object-fit: contain;
    filter: drop-shadow(0 4px 10px rgba(0,0,0,0.2));
}
/* Fallback jika gambar tidak ada */
.logo-placeholder {
    width: 72px;
    height: 72px;
    background: rgba(255,255,255,0.1);
    border-radius: 18px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    font-size: 30px;
}

.logo-title {
    font-size: 26px;
    color: white;
    font-weight: 700;
    letter-spacing: 0.5px;
    margin: 10px 0 20px 0;
}

/* ============= ANIMASI LOADER (PERMINTAAN #2) ============= */
.loader-wrapper {
    position: relative;
    width: 100px;
    height: 100px;
    margin: 0 auto;
    /* Menggunakan Keyframe swipeFloat sesuai request */
    animation: swipeFloat 3s ease-in-out infinite; 
}

/* Request: Lingkaran muter itu buat gini... */
@keyframes swipeFloat {
    0% { transform: translateY(6px); opacity: 0.9; }
    50% { transform: translateY(-6px); opacity: 1; }
    100% { transform: translateY(6px); opacity: 0.9; }
}

/* Lingkaran statis (karena animasinya sudah di swipeFloat) 
   atau bisa dibuat berputar pelan sebagai pelengkap */
.loader-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 4px solid rgba(255,255,255,0.1);
    
    /* MODIFIKASI: Menambahkan warna Orange agar lengkap 3 warna */
    border-top-color: var(--matte-green);
    border-right-color: var(--matte-blue); 
    border-bottom-color: var(--matte-orange); /* Tambahan Warna Orange */
    
    box-shadow: 0 0 15px rgba(251, 146, 60, 0.2); /* Sentuhan glow orange */
    
    /* Sedikit rotasi agar terlihat dinamis, tapi gerakan utama adalah Float */
    animation: slowSpin 8s linear infinite; 
}

@keyframes slowSpin { to { transform: rotate(360deg); } }

.countdown-text {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    font-size: 42px;
    font-weight: 800;
    color: white;
    font-feature-settings: "tnum";
    font-variant-numeric: tabular-nums;
}

/* Status text */
.text {
    margin-top: 20px;
    font-size: 15px;
    color: rgba(255,255,255,0.8);
    font-weight: 500;
    min-height: 24px;
}

/* Hint Text untuk sound */
.tap-hint {
    font-size: 11px;
    font-weight: 600;
    color: var(--matte-green);
    margin-bottom: 5px;
    animation: pulse 2s infinite;
    text-transform: uppercase;
    letter-spacing: 1px;
}
@keyframes pulse { 0% {opacity:0.4} 50% {opacity:1} 100% {opacity:0.4} }


/* Button */
.motivation-button {
    width: 100%;
    margin-top: 25px;
    padding: 14px;
    font-size: 15px;
    font-weight: 600;
    color: white;
    border: none;
    border-radius: 16px;
    cursor: pointer;
    /* Gradient yang lebih matte/halus */
    background: linear-gradient(135deg, var(--matte-green), #059669);
    box-shadow: 0 4px 15px rgba(16,185,129,0.3);
    transition: transform 0.2s;
}
.motivation-button:active {
    transform: scale(0.97);
}

#quote-display {
    margin-top: 18px;
    font-size: 14px;
    color: rgba(255,255,255,0.7);
    font-style: italic;
    min-height: 40px;
    line-height: 1.4;
    padding: 0 10px;
}

.credit {
    margin-top: 30px;
    font-size: 11px;
    color: rgba(255,255,255,0.4);
    letter-spacing: 1px;
    text-transform: uppercase;
}
</style>
</head>

<body>

    <!-- 
        VIDEO BACKGROUND:
        Strategi Autoplay + Sound:
        1. 'muted' ditambahkan agar video otomatis JALAN visualnya (browser policy).
        2. Kita menggunakan Javascript untuk melepas 'mute' saat user pertama kali menyentuh layar.
    -->
    
    <!-- Video Landscape (Desktop/Tablet) -->
    <video autoplay muted loop playsinline class="video-background" id="vid-landscape">
        <source src="pet.mp4" type="video/mp4">
    </video>

    <!-- Video Portrait (HP/Mobile) -->
    <video autoplay muted loop playsinline class="video-background" id="vid-portrait">
        <source src="pot.mp4" type="video/mp4">
    </video>

    <!-- Background Blobs -->
    <div class="background-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
        <div class="blob blob-3"></div>
    </div>

    <div class="glass-box" id="mainCard">

        <!-- macOS dots -->
        <div class="window-buttons">
            <div class="btn-dot btn-close"></div>
            <div class="btn-dot btn-min"></div>
            <div class="btn-dot btn-max"></div>
        </div>

        <!-- LOGO -->
        <div class="logo-container">
            <img src="logo.png" class="logo-img" onerror="this.style.display='none'; document.getElementById('fb-logo').style.display='flex'">
            <div id="fb-logo" class="logo-placeholder" style="display:none">üìÖ</div>
        </div>
        
        <h1 class="logo-title">KALENDER SOYA</h1>

        <div class="loader-wrapper">
            <div class="loader-ring"></div>
            <div class="countdown-text" id="countdown">10</div>
        </div>

        <div id="status" class="text">Ketuk Layar untuk Memulai</div>

        <!-- Hint kecil agar user tahu tap layar akan menyalakan suara -->
        <div class="tap-hint" id="soundHint">KLIK / TAP DI SINI</div>

        <button class="motivation-button" id="quoteBtn">‚ú® Ubah Kutipan</button>
        <div id="quote-display">‚ÄúSiapa monster sebenarnya?‚Äù</div>

        <div class="credit">PREMIUM UI | Design by KEIGO</div>
    </div>

<script>
/* LOGIKA BARU: START EXPERIENCE
   1. Countdown diam di angka 10.
   2. Video jalan tapi Muted.
   3. Ketika user klik dimanapun:
      - Video Unmute
      - Countdown mulai berjalan
*/

let time = 10;
let cycle = 0;
let isStarted = false; // Flag untuk memastikan tidak double start
let timer = null; // Variable timer disimpan disini

const cd = document.getElementById("countdown");
const statusText = document.getElementById("status");
const mainCard = document.getElementById("mainCard");
const tapHint = document.getElementById("soundHint");
const quoteDisplay = document.getElementById("quote-display");
const quoteBtn = document.getElementById("quoteBtn");

// Quotes System
const quotes = [
    "‚ÄúSiapa monster sebenarnya?‚Äù",
    "‚ÄúKalau aku hilang, apakah ada yang akan mencariku?‚Äù",
    "‚ÄúOrang dewasa tidak selalu benar.‚Äù",
    "‚ÄúKadang suara yang paling penting justru tidak terdengar.‚Äù",
    "‚ÄúKita hanya ingin dipercaya.‚Äù",
    "‚ÄúJika dunia tidak mengerti kita, apakah kita tetap salah?‚Äù",
    "‚ÄúMasa depan adalah milik mereka yang percaya pada mimpi.‚Äù"
];

function setRandomQuote() {
    quoteDisplay.style.opacity = 0;
    setTimeout(() => {
        quoteDisplay.innerText = quotes[Math.floor(Math.random()*quotes.length)];
        quoteDisplay.style.opacity = 1;
    }, 200);
}

quoteBtn.addEventListener("click", (e) => {
    e.stopPropagation(); // Mencegah klik tombol mentrigger startExperience jika belum mulai
    setRandomQuote();
    // Jika user klik tombol tapi belum start, kita anggap itu juga sinyal start
    if(!isStarted) startExperience();
});

// FUNGSI UTAMA UNTUK MEMULAI SEMUANYA
function startExperience() {
    if (isStarted) return; // Stop jika sudah berjalan
    isStarted = true;

    // 1. Unmute Video
    const vids = document.querySelectorAll('video');
    vids.forEach(v => {
        v.muted = false;
        v.play().catch(error => console.log("Video play error:", error));
    });

    // 2. Hilangkan Hint & Listener
    if(tapHint) tapHint.style.opacity = '0';
    document.removeEventListener('click', startExperience);
    document.removeEventListener('touchstart', startExperience);

    // 3. Mulai Countdown
    statusText.innerText = `Mengarahkan dalam ${time} detik‚Ä¶`;
    
    timer = setInterval(() => {
        time--;
        cd.innerText = time;
        statusText.innerText = `Mengarahkan dalam ${time} detik‚Ä¶`;

        cycle++;
        if (cycle === 3) {
            setRandomQuote();
            cycle = 0;
        }

        if (time <= 0) {
            clearInterval(timer);
            cd.innerText = "GO";
            statusText.innerText = "Membuka...";
            
            setTimeout(() => {
                mainCard.classList.add("unlock-screen");
            }, 300);

            setTimeout(() => {
                window.location.href = "https://forms.gle/5bxVr7yazJtkZ15DA";
            }, 1200);
        }
    }, 1000);
}

// Pasang pendengar interaksi
document.addEventListener('click', startExperience);
document.addEventListener('touchstart', startExperience);

// Init transisi
quoteDisplay.style.transition = "opacity 0.2s";

</script>

</body>
</html>